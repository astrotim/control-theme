/*!
 * jQuery Lazy v0.1.1
 * http://jquery.eisbehr.de/lazy/
 *
 * Copyright 2013, Daniel 'Eisbehr' Kern
 *
 * licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 *
 * jQuery("img.lazyload").lazy();
 */

(function(e,t,n){e.fn.lazy=function(r){function o(){s=s.filter("["+i.attribute+"]");s.each(function(){var t=e(this);if(t.attr(i.attribute)&&(t.is(":visible")||!i.visibleOnly)){if(u(t)){if(i.beforeLoad)i.beforeLoad(t);t.attr("src",t.attr(i.attribute));if(i.removeAttribute){t.removeAttr(i.attribute)}if(i.afterLoad)i.afterLoad(t)}}})}function u(e){var t=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if(t+a()+i.threshold>e.offset().top+e.height()){return true}return false}function a(){if(t.innerWidth){return t.innerHeight}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientHeight}else if(document.body&&document.body.clientWidth){return document.body.clientHeight}else if(document.body&&document.body.offsetHeight){return document.body.offsetHeight}return i.fallbackHeight}function f(e,t){function o(){function u(){s=+(new Date);t.apply()}function a(){r=n}var o=+(new Date)-s;r&&clearTimeout(r);if(o>e||!i.enableThrottle){u()}else{r=setTimeout(u,e-o)}}var r;var s=0;return o}var i={attribute:"data-src",removeAttribute:true,threshold:300,visibleOnly:true,beforeLoad:null,afterLoad:null,enableThrottle:false,throttle:250,fallbackHeight:2e3};if(r){e.extend(i,r)}var s=this;e(t).bind("scroll",f(i.throttle,o));e(t).bind("resize",f(i.throttle,o));e(t).load(function(){o()});return this}})(jQuery,window)